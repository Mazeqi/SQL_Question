**一、表关系**

**1.**     **年级表：class_grade**

 

| 字段名 | 数据类型    | 主键 | 约束 | 备注     |
| ------ | ----------- | ---- | ---- | -------- |
| gid    | int         | 是   |      | 年级编码 |
| gname  | varchar(20) |      | 非空 | 名称     |
|        |             |      |      |          |

**插入数据范例（大家最好多插入几条数据，以便后面的训练）**

| 1    | 一年级 |
| ---- | ------ |
| 2    | 二年级 |
| 3    | 三年级 |
| 4    | 四年级 |
| 5    | 五年级 |
| 6    | 六年级 |

 

**2. 班级表：class**

| 字段名   | 数据类型    | 主键 | 约束                                       | 备注     |
| -------- | ----------- | ---- | ------------------------------------------ | -------- |
| cid      | int         | 是   |                                            | 班级编码 |
| caption  | varchar(30) |      | 非空                                       | 名称     |
| grade_id |             |      | 外键，参照年级表年编码  级联删除，级联更新 | 年级编码 |

插入数据

  (1，'一年一班',1),

  (2，'二年一班',2),

(3，'三年二班',3);

(4，'四年一班',4),

  (5，'五年三班',5),

  (6，'六年二班',6);

  (7，'一年二班',1),

  (8，'二年四班',2),

(9，'三年三班',3);

(10，'四年五班',4),

  (11，'五年一班',5),

  (12，'六年一班',6);

 

  

**3.**     **学生表：student**

| 字段名   | 数据类型    | 主键 | 约束                                   | 备注     |
| -------- | ----------- | ---- | -------------------------------------- | -------- |
| sid      | int         | 是   |                                        | 学生编码 |
| sname    | varchar(20) |      | 非空                                   | 学生姓名 |
| gender   | varchar(2)  |      | '女','男'                              | 性别     |
| class_id |             |      | 外键，参照班级编码  级联删除，级联更新 |          |

插入数据

  (1，'乔丹','女',1),

  (2，'艾弗森','女',1),

  (3，'科比','女',2);

   (4，'李冬梅','女',3),

  (5，'王璐','女',4),

(6，'周慧敏','女',5);

(7，'王菲','女',6);

 ………..

**4.**     **老师表：teacher**

| 字段名 | 数据类型    | 主键 | 约束 | 备注     |
| ------ | ----------- | ---- | ---- | -------- |
| tid    | int         | 是   |      | 教师编码 |
| tname  | varchar(20) |      | 非空 | 教师姓名 |

 

插入数据

  (1，'张三'),

  (2，'李四'),

  (3，'王五');

   ………..

 

**5.**     **课程表：course**

| 字段名     | 数据类型    | 主键 | 约束                                                         | 备注     |
| ---------- | ----------- | ---- | ------------------------------------------------------------ | -------- |
| cid        | int         | 是   |                                                              | 课程编码 |
| cname      | varchar(30) |      | 非空                                                         | 课程名称 |
| teacher_id |             |      | 建立一个约束，约束名teacher_name，外键约束，参照教师编码  级联删除，级联更新 | 任课教师 |

 

插入数据

  (1，'生物',1),

  (2，'体育',1),

  (3,'物理',2);

   ………..

 

**6.**     **成绩表：score**

| 字段名 | 数据类型 | 主键 | 约束                                 | 备注     |
| ------ | -------- | ---- | ------------------------------------ | -------- |
| sid    | int      | 是   | 外键，参照学生表  级联删除，级联更新 | 学生编码 |
| cid    | Int      | 是   | 外键，参照课程表  级联删除，级联更新 | 课程编码 |
| score  | Int      |      | 非空                                 | 成绩     |

 

插入数据

  (1,1,60),

  (1,2,59),

  (2,2,99);

   ………..

 

 **7.  班级任职表：teach2cls**

| 字段名 | 数据类型 | 主键 | 约束                                 | 备注     |
| ------ | -------- | ---- | ------------------------------------ | -------- |
| tcid   | int      | 是   |                                      | 任职编码 |
| tid    |          |      | 外键，参照教师表  级联删除，级联更新 | 教师编码 |
| cid    |          |      | 外键，参照班级表  级联删除，级联更新 | 班级编码 |

插入数据

  (1,1,1),

  (2,1,2),

  (3,2,1),

  (4,3,2);

   ………..

 

**二：查询语句练习**

2.查询学生总人数

3、查询’生物‘课程和’物理‘课程成绩都及格的学生id和姓名

4、查询每个年级的班级数，取出班级数最多的前三个年级

5、查询平均成绩最高学生的id和姓名以及平均成绩;

6、查询每个年级的学生人数

7、查询每位学生的学号、姓名、选课数、平均成绩;

8、查询学生编号为‘2’的学生的姓名，该学生成绩最高的课程名及分数;

9、查询‘李’的老师的个数和所带班级数;

10、查询班级数小于5年级的id和年级名;

12、查询学过“张三”老师2门课以上的同学的学号、姓名；

13、查询任教课程超过2门的老师的id和姓名;

14、查询学过编号‘1’课程和编号‘2’课程的同学的学号、姓名;

15、查询没有带过高年级（5,6年级）的老师id和姓名;

16、查询学过'张三'老师所教的所有课的同学的学号、姓名;

17、查询带过超过2个班级的老师的id和姓名;

18、查询课程编号’2‘的成绩比课程’1‘课程低的所有同学的学号、姓名

20、查询有课程成绩小于60分的同学的学号、姓名;

21、查询没有学全所有课的同学的学号、姓名;

22、查询至少有一门课与学号为“1”的同学所学相同的同学的学号和姓名；

23、查询至少学过学号为“1”同学所选课程中任意一门课的其他同学学号和姓名；

24、查询和‘2’号同学学习的课程完全相同的其它同学的学号和姓名

25、删除学习‘张三’老师课的score表记录;

29、按各科平均成绩从低到高和及格率的百分数从高到低顺序；

30、查询所有课程平均分，从高到低显示；

32、查询每门课程被选修的学生数；

33、查询选修了2门以上课程的全部学生的学号和姓名；

34、查询男生、女生的人数；

35、查询姓“张”的学生名单；

36、查询同名同姓学生名单，并统计同名人数；

37、查询每门课程的平均成绩，结果按平均成绩升序排列，平均成绩相同时，按课程号降序排列；

38、查询课程名称为“数学”，且分数低于60的学生姓名和分数；

39、查询课程编号为“3”且课程成绩在80分以上的学生的学号和姓名；

42、查询各个课程及相应的选修人数；

43、查询不同课程但成绩相同的学生的学号、课程号、学生成绩；

45、检索至少选修两门课程的学生学号；

46、查询没有学生选修的课程的课程号和课程名；

47、查询没带过任何班级的老师id和姓名；

48、查询有两门以上课程超过80分的学生id及其平均成绩；

49、检索“3”课程分数小于60，按分数降序排列的同学学号；

50、删除编号为“2”的同学的“1”号课程的成绩

51、查询同时选修了物理课和生物课的学生id和姓名；